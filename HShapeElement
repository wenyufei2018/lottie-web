<mxfile host="app.diagrams.net" modified="2020-08-02T03:41:49.238Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.89 Safari/537.36" etag="_B8wYx93cYFU9818Ru8a" version="13.5.6" type="github">
  <diagram id="IwN3G0t_8xsDLEv0d9ZY" name="Page-1">
    <mxGraphModel dx="874" dy="678" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="3300" pageHeight="4681" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="CZIl7pAuP9AkGgIbvoG--5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="CZIl7pAuP9AkGgIbvoG--1" target="CZIl7pAuP9AkGgIbvoG--4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--1" value="initELement(将数据初始化）&lt;br&gt;&lt;span&gt;RenderableDOMElement.&lt;/span&gt;initELement&lt;br&gt;&lt;br&gt;&lt;div style=&quot;color: rgb(212 , 212 , 212) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 18px&quot;&gt;&lt;div&gt;         &lt;span style=&quot;color: #569cd6&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #dcdcaa&quot;&gt;initFrame&lt;/span&gt;();&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: #569cd6&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #dcdcaa&quot;&gt;initBaseData&lt;/span&gt;(&lt;span style=&quot;color: #9cdcfe&quot;&gt;data&lt;/span&gt;, &lt;span style=&quot;color: #9cdcfe&quot;&gt;globalData&lt;/span&gt;, &lt;span style=&quot;color: #9cdcfe&quot;&gt;comp&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: #569cd6&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #dcdcaa&quot;&gt;initTransform&lt;/span&gt;(&lt;span style=&quot;color: #9cdcfe&quot;&gt;data&lt;/span&gt;, &lt;span style=&quot;color: #9cdcfe&quot;&gt;globalData&lt;/span&gt;, &lt;span style=&quot;color: #9cdcfe&quot;&gt;comp&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: #569cd6&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #dcdcaa&quot;&gt;initHierarchy&lt;/span&gt;();&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: #569cd6&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #dcdcaa&quot;&gt;initRenderable&lt;/span&gt;();&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: #569cd6&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #dcdcaa&quot;&gt;initRendererElement&lt;/span&gt;();&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: #569cd6&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #dcdcaa&quot;&gt;createContainerElements&lt;/span&gt;();&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: #569cd6&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #dcdcaa&quot;&gt;createRenderableComponents&lt;/span&gt;();&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: #569cd6&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #dcdcaa&quot;&gt;createContent&lt;/span&gt;();&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="270" y="220" width="360" height="220" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="CZIl7pAuP9AkGgIbvoG--2" target="CZIl7pAuP9AkGgIbvoG--1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--2" value="HShapeElement 生命周期" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="370" y="120" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="CZIl7pAuP9AkGgIbvoG--4" target="CZIl7pAuP9AkGgIbvoG--6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--4" value="prepareFrame&lt;br&gt;&lt;div style=&quot;font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 18px&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;RenderableDOMElement.prepareFrame&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div style=&quot;color: rgb(212 , 212 , 212) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 18px&quot;&gt;&lt;div&gt;       &lt;span style=&quot;color: #4ec9b0&quot;&gt;prepareFrame&lt;/span&gt;&lt;span style=&quot;color: #9cdcfe&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #569cd6&quot;&gt;function&lt;/span&gt;(&lt;span style=&quot;color: #9cdcfe&quot;&gt;num&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: #569cd6&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #dcdcaa&quot;&gt;prepareRenderableFrame&lt;/span&gt;(&lt;span style=&quot;color: #9cdcfe&quot;&gt;num&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: #569cd6&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #dcdcaa&quot;&gt;prepareProperties&lt;/span&gt;(&lt;span style=&quot;color: #9cdcfe&quot;&gt;num&lt;/span&gt;, &lt;span style=&quot;color: #569cd6&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #9cdcfe&quot;&gt;isInRange&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: #569cd6&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #dcdcaa&quot;&gt;checkTransparency&lt;/span&gt;();&lt;/div&gt;&lt;div&gt;        },&lt;/div&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="270" y="490" width="360" height="180" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--6" value="renderFrame&lt;br&gt;&lt;span style=&quot;font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; background-color: rgb(255 , 255 , 255)&quot;&gt;HBaseElement&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&amp;nbsp;renderFrame&lt;br&gt;&lt;br&gt;&lt;div style=&quot;color: rgb(212 , 212 , 212) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 18px&quot;&gt;&lt;div style=&quot;font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 18px&quot;&gt;&lt;div&gt;        &lt;span style=&quot;color: #569cd6&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #dcdcaa&quot;&gt;renderTransform&lt;/span&gt;();&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: #569cd6&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #dcdcaa&quot;&gt;renderRenderable&lt;/span&gt;();&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: #569cd6&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #dcdcaa&quot;&gt;renderElement&lt;/span&gt;();&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: #569cd6&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #dcdcaa&quot;&gt;renderInnerContent&lt;/span&gt;();&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="270" y="700" width="360" height="130" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--8" value="HShapeElement&lt;br&gt;&lt;br&gt;1.&amp;nbsp;&lt;span&gt;shape参数的值，对应AE中图层的内容中的形状设置的内容，其主要用于绘制图形。&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="250" y="20" width="400" height="80" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--14" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="CZIl7pAuP9AkGgIbvoG--10" target="CZIl7pAuP9AkGgIbvoG--13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--10" value="&lt;div style=&quot;color: rgb(212 , 212 , 212) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 18px&quot;&gt;&lt;span style=&quot;color: #4ec9b0&quot;&gt;HShapeElement&lt;/span&gt;.&lt;span style=&quot;color: #9cdcfe&quot;&gt;prototype&lt;/span&gt;.&lt;span style=&quot;color: #dcdcaa&quot;&gt;createContent&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="860" y="50" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--16" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="CZIl7pAuP9AkGgIbvoG--11" target="CZIl7pAuP9AkGgIbvoG--15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--11" value="&lt;div style=&quot;color: rgb(212 , 212 , 212) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 18px&quot;&gt;&lt;span style=&quot;font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; color: rgb(78 , 201 , 176)&quot;&gt;SVGShapeElement&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; color: rgb(156 , 220 , 254)&quot;&gt;prototype&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; color: rgb(220 , 220 , 170)&quot;&gt;searchShapes&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1240" y="50" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--18" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="CZIl7pAuP9AkGgIbvoG--13" target="CZIl7pAuP9AkGgIbvoG--17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--13" value="1. 创建外包含容器 dom 元素&lt;br&gt;2.&amp;nbsp;&lt;span style=&quot;font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; color: rgb(78 , 201 , 176)&quot;&gt;SVGShapeElement&lt;/span&gt;&lt;span style=&quot;color: rgb(212 , 212 , 212) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; color: rgb(156 , 220 , 254)&quot;&gt;prototype&lt;/span&gt;&lt;span style=&quot;color: rgb(212 , 212 , 212) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; color: rgb(220 , 220 , 170)&quot;&gt;searchShapes 创建所有子 shape&lt;br&gt;3. 生成&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(136 , 19 , 145) ; font-family: &amp;#34;menlo&amp;#34; , monospace ; font-size: 11px ; text-align: left&quot;&gt;animatedContents, 用于后面的动画&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; color: rgb(220 , 220 , 170)&quot;&gt;&lt;br&gt;&lt;/span&gt;" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="860" y="160" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--15" value="&lt;font color=&quot;#dcdcaa&quot; face=&quot;menlo, monaco, courier new, monospace&quot;&gt;IShapeElement.&lt;/font&gt;&lt;span style=&quot;color: rgb(220 , 220 , 170) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace&quot;&gt;searchProcessedElement&lt;br&gt;&lt;/span&gt;&lt;font face=&quot;menlo, monaco, courier new, monospace&quot;&gt;搜寻之前的元素&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="1240" y="150" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--17" value="SVGShapeElement.prototype.filterUniqueShapes&lt;br&gt;1. 从影响单个元素的多个形状中选择一个形状，shapes[i].setAsAnimated();" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="860" y="300" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--21" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="CZIl7pAuP9AkGgIbvoG--19" target="CZIl7pAuP9AkGgIbvoG--20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--19" value="&lt;span style=&quot;font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; background-color: rgb(255 , 255 , 255)&quot;&gt;RenderableDOMElement.prepareFrame&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="770" y="450" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--23" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="CZIl7pAuP9AkGgIbvoG--20" target="CZIl7pAuP9AkGgIbvoG--22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--20" value="&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font color=&quot;#dcdcaa&quot; face=&quot;menlo, monaco, courier new, monospace&quot;&gt;RenderableElement.prepareRenderableFrame()&lt;br&gt;&lt;/font&gt;&lt;span style=&quot;font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;RenderableElement.&lt;/font&gt;&lt;/span&gt;&lt;font color=&quot;#ff0000&quot;&gt;checkLayerLimits()&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;font color=&quot;#dcdcaa&quot; face=&quot;menlo, monaco, courier new, monospace&quot; style=&quot;background-color: rgb(30 , 30 , 30)&quot;&gt;1. 当前帧 element 是否显示&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#dcdcaa&quot; face=&quot;menlo, monaco, courier new, monospace&quot; style=&quot;background-color: rgb(30 , 30 , 30)&quot;&gt;data.ip - data.st &amp;lt;= num &amp;amp;&amp;amp; data.op - data.st &amp;gt; num&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="710" y="540" width="380" height="70" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--25" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="CZIl7pAuP9AkGgIbvoG--22" target="CZIl7pAuP9AkGgIbvoG--24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--22" value="FrameElement.prepareProperties&lt;br&gt;1. 根据当前帧，计算 dynamicProperties[]（此属性可见或者是父图层的transform） 中的值&amp;nbsp;&lt;font color=&quot;#ff0000&quot;&gt;getValue()&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="710" y="640" width="380" height="50" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--24" value="RenderableElement.checkTransparency&lt;br&gt;1. 当前帧 element 的透明度相关" style="whiteSpace=wrap;html=1;rounded=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="710" y="720" width="380" height="40" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--28" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="CZIl7pAuP9AkGgIbvoG--26" target="CZIl7pAuP9AkGgIbvoG--27">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--26" value="&lt;span style=&quot;font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; background-color: rgb(255 , 255 , 255)&quot;&gt;HBaseElement&lt;/span&gt;.&amp;nbsp;renderFrame" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1330" y="450" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--30" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="CZIl7pAuP9AkGgIbvoG--27" target="CZIl7pAuP9AkGgIbvoG--29">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--27" value="TransformElement.renderTransform&lt;br&gt;1. 根据上个阶段的 transform 值计算本阶段的 transform 值" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="1310" y="540" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--32" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="CZIl7pAuP9AkGgIbvoG--29" target="CZIl7pAuP9AkGgIbvoG--31">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--29" value="RenderableElement.renderRenderable&lt;br&gt;1. 渲染&amp;nbsp;renderableComponents[] 中的组件&lt;br&gt;&lt;br&gt;&lt;font color=&quot;#ff0000&quot;&gt;renderableComponents[i].renderFrame()&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1300" y="630" width="250" height="70" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--34" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="CZIl7pAuP9AkGgIbvoG--31" target="CZIl7pAuP9AkGgIbvoG--33">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--31" value="HBaseElement.renderElement&lt;br&gt;1. 根据 finalTransform 设置真实 dom 的 transform 和&amp;nbsp;opacity" style="whiteSpace=wrap;html=1;rounded=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1300" y="730" width="250" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--33" value="HShapeElement.renderInnerContent&lt;br&gt;1.&amp;nbsp;SVGShapeElement.renderInnerContent&lt;br&gt;1.1&amp;nbsp;IShapeElement.renderModifiers: 根据&amp;nbsp;&lt;font color=&quot;#ff0000&quot;&gt;shapeModifiers&lt;/font&gt; 修改 element 内部的 shape&lt;br&gt;1.2 根据&amp;nbsp;&lt;font color=&quot;#ff0000&quot;&gt;stylesList&lt;/font&gt; 修改 某些shape 的 d 路径&lt;br&gt;1.3&amp;nbsp;SVGShapeElement.renderShape: 根据&amp;nbsp;&lt;font color=&quot;#ff0000&quot;&gt;animatedContents&lt;/font&gt; 渲染对应的 shape。（不同的shape有不同的渲染方式）&lt;br&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px ; border: none ; padding: 0px&quot;&gt;2. 修改 shapeContainer (svg) 的相关样式&lt;/blockquote&gt;" style="whiteSpace=wrap;html=1;rounded=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1280" y="830" width="290" height="140" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="CZIl7pAuP9AkGgIbvoG--35" target="CZIl7pAuP9AkGgIbvoG--37">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="CZIl7pAuP9AkGgIbvoG--35" target="CZIl7pAuP9AkGgIbvoG--38">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="CZIl7pAuP9AkGgIbvoG--35" target="CZIl7pAuP9AkGgIbvoG--39">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="CZIl7pAuP9AkGgIbvoG--35" target="CZIl7pAuP9AkGgIbvoG--40">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="CZIl7pAuP9AkGgIbvoG--35" target="CZIl7pAuP9AkGgIbvoG--45">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--35" value="&lt;div style=&quot;color: rgb(212 , 212 , 212) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 18px&quot;&gt;&lt;span style=&quot;color: #dcdcaa&quot;&gt;searchShapes&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 18px&quot;&gt;&lt;font color=&quot;#dcdcaa&quot;&gt;1. 通过&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;color: rgb(156 , 220 , 254) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace&quot;&gt;processedElements 获取下一个处理 shapes 数据&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1610" y="390" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--37" value="&lt;div style=&quot;color: rgb(212 , 212 , 212) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 18px&quot;&gt;&lt;span style=&quot;color: #ce9178&quot;&gt;fl/&lt;/span&gt;&lt;span style=&quot;color: #ce9178&quot;&gt;st/gf/gs （&lt;/span&gt;&lt;span style=&quot;color: rgb(220 , 220 , 170) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace&quot;&gt;createStyleElement&lt;/span&gt;&lt;span style=&quot;color: rgb(206 , 145 , 120)&quot;&gt;）&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(212 , 212 , 212) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 18px&quot;&gt;&lt;span style=&quot;color: #ce9178&quot;&gt;1. 添加到&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(156 , 220 , 254) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace&quot;&gt;stylesList 数组中&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(212 , 212 , 212) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 18px&quot;&gt;&lt;span style=&quot;color: #ce9178&quot;&gt;2. 添加到&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(156 , 220 , 254) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace&quot;&gt;animatedContents 数组中&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(212 , 212 , 212) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 18px&quot;&gt;&lt;span style=&quot;color: rgb(156 , 220 , 254) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace&quot;&gt;3. 针对不同的样式做不同的处理&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1970" y="190" width="290" height="80" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--38" value="gr&lt;br&gt;1.&amp;nbsp;&lt;span style=&quot;color: rgb(220 , 220 , 170) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace&quot;&gt;createGroupElement()&lt;br&gt;2.&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(220 , 220 , 170) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace&quot;&gt;searchShapes&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1970" y="300" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--39" value="tr（&lt;span style=&quot;color: rgb(220 , 220 , 170) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; background-color: rgb(30 , 30 , 30)&quot;&gt;createTransformElement&lt;/span&gt;）&lt;br&gt;1. 通过&amp;nbsp;&lt;span style=&quot;color: rgb(156 , 220 , 254) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace&quot;&gt;TransformPropertyFactory 解析 transform 数据，并创建对应实例&lt;/span&gt;&lt;br&gt;2.&amp;nbsp;&lt;span style=&quot;font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; color: rgb(206 , 145 , 120)&quot;&gt;添加到&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; color: rgb(156 , 220 , 254)&quot;&gt;animatedContents 数组中&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1970" y="400" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--40" value="sh/rc/el/sr(&lt;span style=&quot;color: rgb(220 , 220 , 170) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace&quot;&gt;createShapeElement&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;br&gt;1. 通过&amp;nbsp;&lt;span style=&quot;color: rgb(156 , 220 , 254) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace&quot;&gt;ShapePropertyFactory 解析 shape 数据，并创建对应形状&lt;br&gt;2. 添加到&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(156 , 220 , 254) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace&quot;&gt;shapes 数组中&lt;br&gt;3. 添加到&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(156 , 220 , 254) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; background-color: rgb(30 , 30 , 30)&quot;&gt;animatedContents 数据中&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(156 , 220 , 254) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace&quot;&gt;4. 添加到&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(156 , 220 , 254) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace&quot;&gt;shapeModifiers 数组中&lt;br&gt;5. 设置默认的样式&lt;br&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1970" y="490" width="290" height="110" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--42" value="&lt;span style=&quot;font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace&quot;&gt;&lt;font color=&quot;#ff0000&quot; style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;animatedContents&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#9cdcfe&quot; style=&quot;background-color: rgb(30 , 30 , 30)&quot;&gt;1. transform&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#9cdcfe&quot; style=&quot;background-color: rgb(30 , 30 , 30)&quot;&gt;2. shape 中的样式&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#9cdcfe&quot; style=&quot;background-color: rgb(30 , 30 , 30)&quot;&gt;3. shapeElement&lt;/font&gt;&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="2470" y="160" width="170" height="80" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="CZIl7pAuP9AkGgIbvoG--42" target="CZIl7pAuP9AkGgIbvoG--42">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CZIl7pAuP9AkGgIbvoG--45" value="tm/rd/ms/pd/&lt;span style=&quot;color: rgb(206 , 145 , 120) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace&quot;&gt;rp&lt;/span&gt;&lt;br&gt;1. 针对 shape 做了特殊的处理，不知道为什么&lt;br&gt;2. 添加进&lt;span style=&quot;color: rgb(156 , 220 , 254) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;courier new&amp;#34; , monospace&quot;&gt;shapeModifiers数组中&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1970" y="635" width="290" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
